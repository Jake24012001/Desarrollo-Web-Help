<form class="formulario-peticion" (ngSubmit)="crearTicket()">
  <div class="form-group mb-3">
    <label for="tipoPeticion">Tipo de petición:</label>
    <input type="text" id="tipoPeticion" class="form-control" placeholder="Ingrese su petición"
      [(ngModel)]="tipoPeticion" name="tipoPeticion" required />
  </div>

  <div class="form-group mb-3">
    <label for="usuario">Selecciona un usuario:</label>
    <select id="usuario" class="form-select mb-3" [(ngModel)]="usuarioSeleccionado" name="usuario" required>
      <option value="" disabled selected>-- Selecciona --</option>
      <option *ngFor="let usuario of usuarios" [value]="usuario.idUsuario">
        {{ usuario.nombre }}
      </option>
    </select>
  </div>

  <div class="form-group mb-3">
    <label for="producto">Categoría de equipo</label>
    <select name="producto" id="producto" class="form-select" [(ngModel)]="productoSeleccionado" required>
      <option value="" disabled>-- Selecciona --</option>
      <option *ngFor="let producto of productosUnicos" [value]="producto.type">
        {{ producto.type }} - {{ producto.name }}
      </option>
    </select>
  </div>

  <div class="form-group mb-3">
    <label for="equipo">Equipos disponibles:</label>
    <div class="d-flex gap-2 mb-2">
      <select id="equipo" class="form-select" [(ngModel)]="equipoSeleccionado" name="equipo" required>
        <option value="" disabled selected>-- Selecciona --</option>
        <option *ngFor="let equipo of equiposInventario" [value]="equipo.id">
          {{ equipo.serial }} - {{ equipo.municipalCode }}
        </option>
      </select>
      <button type="button" class="btn btn-outline-primary" (click)="mostrarFormEquipo()">
        + Crear Equipo
      </button>
    </div>
  </div>

  <div class="form-group mb-3">
    <label for="detallePeticion">Detalle de petición:</label>
    <textarea id="detallePeticion" class="form-control" rows="4" placeholder="Describa su problemática"
      [(ngModel)]="detallePeticion" name="detallePeticion" required></textarea>
  </div>

  <div class="d-flex gap-2">
    <button type="submit" class="btn btn-danger">Enviar</button>
    <button type="button" class="btn btn-secondary" (click)="cancelarAccion()">
      Cancelar
    </button>
  </div>

  <div class="mt-3">
    <label>Estado:</label>
    <span id="estado-actual" class="badge bg-warning">Pendiente</span>
  </div>
</form>